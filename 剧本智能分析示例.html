<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>剧本分析报告 - "帧查官"智能分析系统</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px 0;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .logo-icon {
            font-size: 2.5rem;
            margin-right: 15px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .report-info {
            display: flex;
            justify-content: space-between;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }
        
        .info-item {
            flex: 1;
            text-align: center;
            padding: 0 15px;
        }
        
        .info-item h3 {
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .info-item p {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .score {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .section {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--light-color);
            padding-bottom: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-right: 10px;
            font-size: 1.4rem;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .metric-card {
            background-color: var(--light-color);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
        }
        
        .metric-value {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .metric-label {
            font-size: 0.9rem;
            color: var(--dark-color);
        }
        
        .chart-container {
            height: 300px;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .chart-placeholder {
            width: 90%;
            height: 90%;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-weight: 500;
        }
        
        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .character-card {
            background-color: var(--light-color);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .character-name {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--primary-color);
        }
        
        .character-role {
            font-size: 0.9rem;
            color: var(--dark-color);
            margin-bottom: 10px;
        }
        
        .relationship-map {
            height: 400px;
            background-color: #f0f4f8;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }
        
        .recommendations {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .rec-card {
            flex: 1;
            min-width: 250px;
            background-color: var(--light-color);
            border-radius: 8px;
            padding: 20px;
        }
        
        .rec-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }
        
        .rec-title i {
            margin-right: 8px;
            color: var(--secondary-color);
        }
        
        .risk-item {
            background-color: #fff5f5;
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
        }
        
        .risk-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--accent-color);
        }
        
        .summary {
            background: linear-gradient(135deg, #e3f2fd, #f0f4f8);
            padding: 25px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .summary-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-color);
            font-size: 1.2rem;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: var(--dark-color);
            font-size: 0.9rem;
        }
        
        /* 图表样式 */
        .chart-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .radar-chart {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .plot-chart {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .emotion-chart {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .relationship-chart {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .chart-legend {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            margin-right: 6px;
            border-radius: 2px;
        }
        
        @media (max-width: 768px) {
            .report-info {
                flex-direction: column;
            }
            
            .info-item {
                margin-bottom: 15px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-film"></i>
                </div>
                <div>
                    <h1>剧本智能分析报告</h1>
                    <p>"帧查官"AI影视决策支持系统</p>
                </div>
            </div>
        </header>
        
        <div class="report-info">
            <div class="info-item">
                <h3>剧本名称</h3>
                <p>《时空密语》</p>
            </div>
            <div class="info-item">
                <h3>剧本类型</h3>
                <p>科幻 / 悬疑 / 爱情</p>
            </div>
            <div class="info-item">
                <h3>综合评分</h3>
                <p class="score">82/100</p>
            </div>
            <div class="info-item">
                <h3>分析时间</h3>
                <p>2023年10月26日</p>
            </div>
        </div>
        
        <div class="section">
            <h2 class="section-title"><i class="fas fa-chart-line"></i> 核心指标概览</h2>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">情节结构吻合度</div>
                    <div class="metric-value">85%</div>
                    <div class="metric-desc">与同类型成功作品对比</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">角色关系复杂度</div>
                    <div class="metric-value">78%</div>
                    <div class="metric-desc">角色间互动关系丰富度</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">情感曲线强度</div>
                    <div class="metric-value">80%</div>
                    <div class="metric-desc">情感波动与共鸣潜力</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">类型元素吻合度</div>
                    <div class="metric-value">88%</div>
                    <div class="metric-desc">符合科幻/悬疑类型特征</div>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-wrapper">
                    <div class="radar-chart" id="radarChart"></div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2 class="section-title"><i class="fas fa-project-diagram"></i> 情节结构分析</h2>
            
            <p>剧本《时空密语》遵循经典的三幕式结构，但在第二幕中加入了创新的双线叙事，增强了悬疑感。</p>
            
            <div class="chart-container">
                <div class="chart-wrapper">
                    <div class="plot-chart" id="plotChart"></div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #3498db;"></div>
                            <span>情节强度</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #e74c3c;"></div>
                            <span>冲突点</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="risk-item">
                <div class="risk-title">结构风险提示</div>
                <p>第二幕中段节奏略有放缓，建议增加一个次要冲突点以维持观众兴趣。</p>
            </div>
        </div>
        
        <div class="section">
            <h2 class="section-title"><i class="fas fa-users"></i> 角色关系网络</h2>
            
            <p>剧本包含6个主要角色，角色间关系复杂且富有张力，符合悬疑类型的要求。</p>
            
            <div class="relationship-map">
                <div class="chart-wrapper">
                    <div class="relationship-chart" id="relationshipChart"></div>
                </div>
            </div>
            
            <h3 style="margin: 20px 0 15px 0; color: var(--primary-color);">主要角色分析</h3>
            
            <div class="character-grid">
                <div class="character-card">
                    <div class="character-name">林晓</div>
                    <div class="character-role">女主角 / 物理学家</div>
                    <div class="character-desc">角色弧光完整，成长轨迹清晰</div>
                </div>
                <div class="character-card">
                    <div class="character-name">陈默</div>
                    <div class="character-role">男主角 / 记者</div>
                    <div class="character-desc">动机明确，性格层次丰富</div>
                </div>
                <div class="character-card">
                    <div class="character-name">赵博士</div>
                    <div class="character-role">导师 / 反派</div>
                    <div class="character-desc">角色反转设计巧妙，但动机可进一步深化</div>
                </div>
                <div class="character-card">
                    <div class="character-name">苏雨</div>
                    <div class="character-role">配角 / 关键线索人物</div>
                    <div class="character-desc">功能明确，但角色深度有待加强</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2 class="section-title"><i class="fas fa-heart"></i> 情感曲线分析</h2>
            
            <p>剧本情感波动符合悬疑爱情类型特征，但在高潮部分的情感爆发力略有不足。</p>
            
            <div class="chart-container">
                <div class="chart-wrapper">
                    <div class="emotion-chart" id="emotionChart"></div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #e74c3c;"></div>
                            <span>情感强度</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #3498db;"></div>
                            <span>悬念强度</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="risk-item">
                <div class="risk-title">情感强度提示</div>
                <p>第45-50场情感高潮前的铺垫略显不足，建议增加主角内心挣扎的描写。</p>
            </div>
        </div>
        
        <div class="section">
            <h2 class="section-title"><i class="fas fa-exclamation-triangle"></i> 风险提示与优化建议</h2>
            
            <div class="risk-item">
                <div class="risk-title">类型定位风险</div>
                <p>科幻元素与悬疑元素比例接近1:1，可能导致目标观众定位模糊。建议明确主类型，适当调整元素比例。</p>
            </div>
            
            <div class="risk-item">
                <div class="risk-title">节奏控制风险</div>
                <p>第二幕中段节奏放缓，可能影响观众留存。建议增加一个次要冲突或悬念点。</p>
            </div>
            
            <div class="risk-item">
                <div class="risk-title">角色发展风险</div>
                <p>配角苏雨的角色深度不足，建议增加其背景故事或与主线的关联度。</p>
            </div>
            
            <h3 style="margin: 25px 0 15px 0; color: var(--primary-color);">优化建议</h3>
            
            <div class="recommendations">
                <div class="rec-card">
                    <div class="rec-title"><i class="fas fa-lightbulb"></i> 情节优化</div>
                    <p>在第二幕中增加一个时间紧迫性的外部压力，提升节奏感。</p>
                </div>
                <div class="rec-card">
                    <div class="rec-title"><i class="fas fa-user-edit"></i> 角色优化</div>
                    <p>为配角苏雨增加一段与主线相关的个人背景，增强角色深度。</p>
                </div>
                <div class="rec-card">
                    <div class="rec-title"><i class="fas fa-theater-masks"></i> 情感优化</div>
                    <p>在高潮部分增加主角的内心独白或象征性场景，强化情感冲击。</p>
                </div>
            </div>
        </div>
        
        <div class="section summary">
            <div class="summary-title">综合评估总结</div>
            <p>《时空密语》是一部具有商业潜力的科幻悬疑爱情剧本，情节结构扎实，角色关系复杂且富有张力。剧本在类型元素融合、情感曲线设计和角色塑造方面表现良好，综合评分82分，属于优良级别。</p>
            <p style="margin-top: 15px;">主要优势在于创新的双线叙事结构和完整的主角弧光，需要注意的方面是节奏控制和配角深度。经过适当优化后，有望成为市场表现优秀的作品。</p>
        </div>
        
        <div class="footer">
            <p>本报告由"帧查官"AI影视决策支持系统生成 · 报告编号: ZCG20231026001</p>
            <p>数据仅供参考，具体决策需结合专业判断</p>
        </div>
    </div>

    <script>
        // 简单的交互效果
        document.addEventListener('DOMContentLoaded', function() {
            // 为所有指标卡片添加点击效果
            const metricCards = document.querySelectorAll('.metric-card');
            metricCards.forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 300);
                });
            });
            
            // 创建雷达图
            createRadarChart();
            
            // 创建情节发展曲线图
            createPlotChart();
            
            // 创建角色关系图
            createRelationshipChart();
            
            // 创建情感曲线图
            createEmotionChart();
        });
        
        function createRadarChart() {
            const radarChart = document.getElementById('radarChart');
            const canvas = document.createElement('canvas');
            radarChart.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const size = Math.min(radarChart.offsetWidth, radarChart.offsetHeight) * 0.8;
            canvas.width = size;
            canvas.height = size;
            
            const centerX = size / 2;
            const centerY = size / 2;
            const radius = size / 2.5;
            
            // 绘制网格
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            
            // 绘制多边形
            const sides = 5;
            const angleStep = (Math.PI * 2) / sides;
            
            // 绘制5层同心多边形
            for (let i = 1; i <= 5; i++) {
                const r = radius * (i / 5);
                ctx.beginPath();
                for (let j = 0; j < sides; j++) {
                    const angle = j * angleStep - Math.PI / 2;
                    const x = centerX + r * Math.cos(angle);
                    const y = centerY + r * Math.sin(angle);
                    if (j === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.closePath();
                ctx.stroke();
            }
            
            // 绘制轴线
            for (let i = 0; i < sides; i++) {
                const angle = i * angleStep - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
                
                // 添加标签
                const labels = ['情节结构', '角色塑造', '情感曲线', '类型元素', '节奏控制'];
                const labelAngle = angle;
                const labelRadius = radius + 20;
                const labelX = centerX + labelRadius * Math.cos(labelAngle);
                const labelY = centerY + labelRadius * Math.sin(labelAngle);
                
                ctx.fillStyle = '#2c3e50';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(labels[i], labelX, labelY);
            }
            
            // 绘制数据多边形
            const data = [85, 78, 80, 88, 75]; // 对应5个维度的数据
            ctx.fillStyle = 'rgba(52, 152, 219, 0.3)';
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 2;
            
            ctx.beginPath();
            for (let i = 0; i < sides; i++) {
                const value = data[i];
                const r = radius * (value / 100);
                const angle = i * angleStep - Math.PI / 2;
                const x = centerX + r * Math.cos(angle);
                const y = centerY + r * Math.sin(angle);
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // 添加数据点
            ctx.fillStyle = '#3498db';
            for (let i = 0; i < sides; i++) {
                const value = data[i];
                const r = radius * (value / 100);
                const angle = i * angleStep - Math.PI / 2;
                const x = centerX + r * Math.cos(angle);
                const y = centerY + r * Math.sin(angle);
                
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        function createPlotChart() {
            const plotChart = document.getElementById('plotChart');
            const canvas = document.createElement('canvas');
            plotChart.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const width = plotChart.offsetWidth;
            const height = plotChart.offsetHeight;
            canvas.width = width;
            canvas.height = height;
            
            // 绘制坐标轴
            ctx.strokeStyle = '#aaa';
            ctx.lineWidth = 1;
            
            // Y轴
            ctx.beginPath();
            ctx.moveTo(50, 30);
            ctx.lineTo(50, height - 50);
            ctx.stroke();
            
            // X轴
            ctx.beginPath();
            ctx.moveTo(50, height - 50);
            ctx.lineTo(width - 30, height - 50);
            ctx.stroke();
            
            // Y轴标签
            ctx.fillStyle = '#555';
            ctx.font = '12px Arial';
            ctx.textAlign = 'right';
            ctx.textBaseline = 'middle';
            for (let i = 0; i <= 5; i++) {
                const y = 30 + (height - 80) * (1 - i / 5);
                ctx.fillText((i * 20).toString(), 45, y);
            }
            
            // X轴标签
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            const xLabels = ['开场', '第一幕', '第二幕上', '第二幕下', '第三幕', '结局'];
            const xStep = (width - 80) / (xLabels.length - 1);
            for (let i = 0; i < xLabels.length; i++) {
                const x = 50 + i * xStep;
                ctx.fillText(xLabels[i], x, height - 35);
            }
            
            // 绘制情节强度曲线
            const plotPoints = [30, 60, 85, 65, 90, 95];
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let i = 0; i < plotPoints.length; i++) {
                const x = 50 + i * xStep;
                const y = 30 + (height - 80) * (1 - plotPoints[i] / 100);
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // 绘制冲突点
            ctx.fillStyle = '#e74c3c';
            for (let i = 0; i < plotPoints.length; i++) {
                const x = 50 + i * xStep;
                const y = 30 + (height - 80) * (1 - plotPoints[i] / 100);
                
                ctx.beginPath();
                ctx.arc(x, y, 6, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // 添加标题
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('情节发展曲线', width / 2, 10);
        }
        
        function createRelationshipChart() {
            const relationshipChart = document.getElementById('relationshipChart');
            const canvas = document.createElement('canvas');
            relationshipChart.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const width = relationshipChart.offsetWidth;
            const height = relationshipChart.offsetHeight;
            canvas.width = width;
            canvas.height = height;
            
            // 角色节点数据
            const characters = [
                { name: '林晓', x: width / 2, y: height / 3, color: '#e74c3c', radius: 40 },
                { name: '陈默', x: width / 3, y: height / 2, color: '#3498db', radius: 35 },
                { name: '赵博士', x: 2 * width / 3, y: height / 2, color: '#2ecc71', radius: 35 },
                { name: '苏雨', x: width / 4, y: 2 * height / 3, color: '#f39c12', radius: 30 },
                { name: '王警官', x: width / 2, y: 2 * height / 3, color: '#9b59b6', radius: 30 },
                { name: '刘教授', x: 3 * width / 4, y: 2 * height / 3, color: '#1abc9c', radius: 30 }
            ];
            
            // 关系连线
            const relationships = [
                { from: 0, to: 1, strength: 0.9, type: '爱情' },
                { from: 0, to: 2, strength: 0.7, type: '师徒' },
                { from: 0, to: 3, strength: 0.5, type: '朋友' },
                { from: 1, to: 4, strength: 0.6, type: '合作' },
                { from: 2, to: 5, strength: 0.8, type: '同事' },
                { from: 2, to: 4, strength: 0.4, type: '对立' },
                { from: 3, to: 1, strength: 0.3, type: '暗恋' }
            ];
            
            // 绘制关系连线
            relationships.forEach(rel => {
                const fromChar = characters[rel.from];
                const toChar = characters[rel.to];
                
                // 根据关系强度设置线条粗细和透明度
                ctx.strokeStyle = `rgba(52, 73, 94, ${rel.strength})`;
                ctx.lineWidth = rel.strength * 5;
                
                ctx.beginPath();
                ctx.moveTo(fromChar.x, fromChar.y);
                ctx.lineTo(toChar.x, toChar.y);
                ctx.stroke();
                
                // 添加关系类型标签
                const midX = (fromChar.x + toChar.x) / 2;
                const midY = (fromChar.y + toChar.y) / 2;
                
                ctx.fillStyle = '#2c3e50';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(rel.type, midX, midY);
            });
            
            // 绘制角色节点
            characters.forEach(char => {
                // 绘制外圈
                ctx.fillStyle = char.color;
                ctx.beginPath();
                ctx.arc(char.x, char.y, char.radius, 0, Math.PI * 2);
                ctx.fill();
                
                // 绘制内圈
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(char.x, char.y, char.radius - 5, 0, Math.PI * 2);
                ctx.fill();
                
                // 添加角色名
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 12px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(char.name, char.x, char.y);
            });
        }
        
        function createEmotionChart() {
            const emotionChart = document.getElementById('emotionChart');
            const canvas = document.createElement('canvas');
            emotionChart.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const width = emotionChart.offsetWidth;
            const height = emotionChart.offsetHeight;
            canvas.width = width;
            canvas.height = height;
            
            // 绘制坐标轴
            ctx.strokeStyle = '#aaa';
            ctx.lineWidth = 1;
            
            // Y轴
            ctx.beginPath();
            ctx.moveTo(50, 30);
            ctx.lineTo(50, height - 50);
            ctx.stroke();
            
            // X轴
            ctx.beginPath();
            ctx.moveTo(50, height - 50);
            ctx.lineTo(width - 30, height - 50);
            ctx.stroke();
            
            // Y轴标签
            ctx.fillStyle = '#555';
            ctx.font = '12px Arial';
            ctx.textAlign = 'right';
            ctx.textBaseline = 'middle';
            for (let i = 0; i <= 5; i++) {
                const y = 30 + (height - 80) * (1 - i / 5);
                ctx.fillText((i * 20).toString(), 45, y);
            }
            
            // X轴标签
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            const xLabels = ['开场', '相遇', '危机', '转折', '高潮', '结局'];
            const xStep = (width - 80) / (xLabels.length - 1);
            for (let i = 0; i < xLabels.length; i++) {
                const x = 50 + i * xStep;
                ctx.fillText(xLabels[i], x, height - 35);
            }
            
            // 绘制情感强度曲线
            const emotionPoints = [30, 50, 40, 70, 85, 75];
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let i = 0; i < emotionPoints.length; i++) {
                const x = 50 + i * xStep;
                const y = 30 + (height - 80) * (1 - emotionPoints[i] / 100);
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // 绘制悬念强度曲线
            const suspensePoints = [60, 40, 75, 50, 65, 30];
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            for (let i = 0; i < suspensePoints.length; i++) {
                const x = 50 + i * xStep;
                const y = 30 + (height - 80) * (1 - suspensePoints[i] / 100);
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            ctx.setLineDash([]);
            
            // 添加数据点
            for (let i = 0; i < emotionPoints.length; i++) {
                const x = 50 + i * xStep;
                
                // 情感强度点
                const emotionY = 30 + (height - 80) * (1 - emotionPoints[i] / 100);
                ctx.fillStyle = '#e74c3c';
                ctx.beginPath();
                ctx.arc(x, emotionY, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // 悬念强度点
                const suspenseY = 30 + (height - 80) * (1 - suspensePoints[i] / 100);
                ctx.fillStyle = '#3498db';
                ctx.beginPath();
                ctx.arc(x, suspenseY, 5, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // 添加标题
            ctx.fillStyle = '#2c3e50';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('情感与悬念曲线', width / 2, 10);
        }
    </script>
</body>
</html>